TCP/IP五层模型
==============
应用层
----------
* 第一次建立连接
和百度建立连接
```
exec 8<> /dev/tcp/www.baidu.com/80
```
-8相当于一个channel
--http协议

```
echo "GET / HTTP/1.0\n" 1>& 8
```
linux中一切皆文件
---------------
1. socket 中可以得到输入流和输出流
2. 8指向了一个socket输入输出流
3. fd文件描述符-->类比于Java中的变量引用

4. 什么叫外壳程序(死循环)
命令程序ls-->exit该进程会断开连接，退出
5. 给出重定向的绑定
6. ">"表示输出定向到文件，>&文件描述符

```
cat 0<& 8
```
用户空间完成http协议

内核部分完成的工作
-------------------
分层解耦

传输**控制**层(TCP协议)
----------
1. 面向连接
2. 可靠的传输协议

连接是什么意思？
----------------
1. * 三次握手
	--保证了双方的输入输出是通的
2. 双方都有资源的开辟
3. 确认机制保证了可靠的传输
4. * 四次分手

5. Socket(套接字，插座)
	* 成对出现
	* IP：port-IP:port，用以区分别的连接---四元组--->唯一确定
6. socket-> fd文件描述符数字->worker进程

多个socket对应一个进程？？
-----------------
可以，多路复用EPOLL

为什么四次挥手？
-----------
1. 双方都要同意	


```
tcpdump -nn -i eth0 port 80
```

** 三次握手到四次分手不可被分割**
--高并发负载均衡LVS 4 负载均衡器
	* 两个服务器在的情况下
--DDos攻击
	* 用肉鸡只发出请求连接的信息，而不发送收到的ACK
	
网络层
============
1. 寻址--->IP
 * IP地址 IPADDR = 192.168.150.12
 * 掩码 NETMASK = 255.255.255.0
 ---->两个码进行与操作可以得到一个网络号12
 * 
 * DNS
2. 路由--->路由表route
``` 
route -n
```
--只要去找下一跳，不需要知道每一跳

链路层
===========
MAC地址---唯一硬件地址

1. IP是端到端的，一成不变的
2. MAC地址在每一跳中改变

基础知识点：只要会算路由表的与运算

VPN --->背着走
-------
数据包通过香港的服务器再去访问

